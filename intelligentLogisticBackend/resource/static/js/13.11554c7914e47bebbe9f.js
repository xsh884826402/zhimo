webpackJsonp([13],{"+JSF":function(e,t){},IsHS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),s=a.n(r),o=a("Xxa5"),i=a.n(o),n=a("exGp"),l=a.n(n),c=a("bBUo"),m=a("1h8J"),u=a("uaSg"),p={data:function(){return{city:{},formData:{name:"",address:"",latitude:"",longitude:"",description:"",phone:"",promotion_info:"",float_delivery_fee:5,float_minimum_order_amount:20,is_premium:!0,delivery_mode:!0,new:!0,bao:!0,zhun:!0,piao:!0,startTime:"",endTime:"",image_path:"",business_license_image:"",catering_service_license_image:"",filepath:"D:/Project/intelligentlogisticsexe/中邮信科测试数据3.xlsx"},rules:{name:[{required:!0,message:"请输入店铺名称",trigger:"blur"}],address:[{required:!0,message:"请输入详细地址",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话"},{type:"number",message:"电话号码必须是数字"}]},baseUrl:u.b,baseImgPath:u.a}},components:{headTop:c.a},mounted:function(){this.initData()},methods:{initData:function(){var e=this;return l()(i.a.mark(function t(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("debug1 \n\n\n\n\n")}catch(e){console.log(e)}case 1:case"end":return e.stop()}},t,e)}))()},handleShopAvatarScucess:function(e,t){console.log("before handle"),console.log(e),1===e.status?this.formData.image_path=e.image_path:this.$message.error("上传图片失败！")},beforeAvatarUpload:function(e){console.log(" prev before upload");var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),console.log(" after  before upload"),t&&a},submitForm:function(e){var t,a=this;console.log("before submit"),this.$refs[e].validate((t=l()(i.a.mark(function e(t){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=15;break}return s()(a.formData,{activities:a.activities},{category:a.selectedCategory.join("/")}),e.prev=2,e.next=5,Object(m.c)(a.formData);case 5:1==(r=e.sent).status?(a.$message({type:"success",message:"添加成功"}),a.formData={name:"",address:"",latitude:"",longitude:"",description:"",phone:"",promotion_info:"",float_delivery_fee:5,float_minimum_order_amount:20,is_premium:!0,delivery_mode:!0,new:!0,bao:!0,zhun:!0,piao:!0,startTime:"",endTime:"",image_path:"",business_license_image:"",catering_service_license_image:""},a.selectedCategory=["快餐便当","简餐"],a.activities=[{icon_name:"减",name:"满减优惠",description:"满30减5，满60减8"}]):a.$message({type:"error",message:r.message}),console.log(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:e.next=17;break;case 15:return a.$notify.error({title:"错误",message:"请检查输入是否正确",offset:100}),e.abrupt("return",!1);case 17:case"end":return e.stop()}},e,a,[[2,10]])})),function(e){return t.apply(this,arguments)}))}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("head-top"),e._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:12,offset:4}},[a("el-form",{ref:"formData",staticClass:"demo-formData",attrs:{model:e.formData,rules:e.rules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"上传待预测文件"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://127.0.0.1:5000/write","show-file-list":!1,"on-success":e.handleShopAvatarScucess,"before-upload":e.beforeAvatarUpload}},[e.formData.image_path?a("img",{staticClass:"avatar",attrs:{src:e.baseImgPath+e.formData.image_path}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{staticClass:"button_submit"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("formData")}}},[e._v("请求预测a ")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(p,f,!1,function(e){a("+JSF")},null,null);t.default=d.exports}});
//# sourceMappingURL=13.11554c7914e47bebbe9f.js.map