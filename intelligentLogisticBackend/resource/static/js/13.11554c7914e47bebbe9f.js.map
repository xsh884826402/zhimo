{"version":3,"sources":["webpack:///src/page/single_predict.vue","webpack:///./src/page/single_predict.vue?dd8b","webpack:///./src/page/single_predict.vue"],"names":["single_predict","data","city","formData","name","address","latitude","longitude","description","phone","promotion_info","float_delivery_fee","float_minimum_order_amount","is_premium","delivery_mode","new","bao","zhun","piao","startTime","endTime","image_path","business_license_image","catering_service_license_image","filepath","rules","required","message","trigger","type","baseUrl","env","baseImgPath","components","headTop","mounted","this","initData","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","console","log","err","stop","handleShopAvatarScucess","res","file","status","$message","error","beforeAvatarUpload","isRightType","isLt2M","size","submitForm","formName","_ref","_this2","$refs","validate","_callee2","valid","result","_context2","assign_default","activities","category","selectedCategory","join","Object","getData","sent","icon_name","t0","$notify","title","offset","abrupt","_x","apply","arguments","page_single_predict","render","_vm","_h","$createElement","_c","_self","_v","staticStyle","margin-top","attrs","span","ref","staticClass","model","label-width","label","action","show-file-list","on-success","before-upload","src","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.11554c7914e47bebbe9f.js","sourcesContent":["<template>\n    <div>\n        <head-top></head-top>\n        <el-row style=\"margin-top: 20px;\">\n            <el-col :span=\"12\" :offset=\"4\">\n                <el-form :model=\"formData\" :rules=\"rules\" ref=\"formData\" label-width=\"110px\" class=\"demo-formData\">\n\n                    <el-form-item label=\"上传待预测文件\">\n                        <el-upload\n                            class=\"avatar-uploader\"\n                            :action=\"'http://127.0.0.1:5000' + '/write'\"\n                            :show-file-list=\"false\"\n                            :on-success=\"handleShopAvatarScucess\"\n                            :before-upload=\"beforeAvatarUpload\">\n                            <img v-if=\"formData.image_path\" :src=\"baseImgPath + formData.image_path\" class=\"avatar\">\n                            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                        </el-upload>\n                    </el-form-item>\n                    <el-form-item class=\"button_submit\">\n                        <el-button type=\"primary\" @click=\"submitForm('formData')\">请求预测a </el-button>\n                    </el-form-item>\n                </el-form>\n            </el-col>\n        </el-row>\n\n    </div>\n\n</template>\n\n\n<script>\nimport headTop from '@/components/headTop'\n// eslint-disable-next-line no-unused-vars\nimport {cityGuess, addShop, searchplace, foodCategory} from '@/api/getData'\nimport {baseUrl, baseImgPath} from '@/config/env'\nexport default {\n  data () {\n    return {\n      city: {},\n      formData: {\n        name: '', // 店铺名称\n        address: '', // 地址\n        latitude: '',\n        longitude: '',\n        description: '', // 介绍\n        phone: '',\n        promotion_info: '',\n        float_delivery_fee: 5, // 运费\n        float_minimum_order_amount: 20, // 起价\n        is_premium: true,\n        delivery_mode: true,\n        new: true,\n        bao: true,\n        zhun: true,\n        piao: true,\n        startTime: '',\n        endTime: '',\n        image_path: '',\n        business_license_image: '',\n        catering_service_license_image: '',\n        filepath: 'D:/Project/intelligentlogisticsexe/中邮信科测试数据3.xlsx'\n\n      },\n      rules: {\n        name: [\n          { required: true, message: '请输入店铺名称', trigger: 'blur' }\n        ],\n        address: [\n          { required: true, message: '请输入详细地址', trigger: 'blur' }\n        ],\n        phone: [\n          { required: true, message: '请输入联系电话' },\n          { type: 'number', message: '电话号码必须是数字' }\n        ]\n      },\n      baseUrl,\n      baseImgPath\n    }\n  },\n  components: {\n    headTop\n  },\n  mounted () {\n    this.initData()\n  },\n  methods: {\n    async initData () {\n      try {\n        console.log('debug1 \\n\\n\\n\\n\\n')\n      } catch (err) {\n        console.log(err)\n      }\n    },\n    handleShopAvatarScucess (res, file) {\n      console.log('before handle')\n      console.log(res)\n      if (res.status === 1) {\n        this.formData.image_path = res.image_path\n      } else {\n        this.$message.error('上传图片失败！')\n      }\n    },\n    beforeAvatarUpload (file) {\n      console.log(' prev before upload')\n      const isRightType = (file.type === 'image/jpeg') || (file.type === 'image/png')\n      const isLt2M = file.size / 1024 / 1024 < 2\n\n      if (!isRightType) {\n        this.$message.error('上传头像图片只能是 JPG 格式!')\n      }\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!')\n      }\n      console.log(' after  before upload')\n      return isRightType && isLt2M\n    },\n    submitForm (formName) {\n      console.log('before submit')\n      this.$refs[formName].validate(async (valid) => {\n        if (valid) {\n          Object.assign(this.formData, {activities: this.activities}, {\n            category: this.selectedCategory.join('/')\n          })\n          try {\n            let result = await addShop(this.formData)\n            if (result.status == 1) {\n              this.$message({\n                type: 'success',\n                message: '添加成功'\n              })\n              this.formData = {\n                name: '', // 店铺名称\n                address: '', // 地址\n                latitude: '',\n                longitude: '',\n                description: '', // 介绍\n                phone: '',\n                promotion_info: '',\n                float_delivery_fee: 5, // 运费\n                float_minimum_order_amount: 20, // 起价\n                is_premium: true,\n                delivery_mode: true,\n                new: true,\n                bao: true,\n                zhun: true,\n                piao: true,\n                startTime: '',\n                endTime: '',\n                image_path: '',\n                business_license_image: '',\n                catering_service_license_image: ''\n              }\n              this.selectedCategory = ['快餐便当', '简餐']\n              this.activities = [{\n                icon_name: '减',\n                name: '满减优惠',\n                description: '满30减5，满60减8'\n              }]\n            } else {\n              this.$message({\n                type: 'error',\n                message: result.message\n              })\n            }\n            console.log(result)\n          } catch (err) {\n            console.log(err)\n          }\n        } else {\n          this.$notify.error({\n            title: '错误',\n            message: '请检查输入是否正确',\n            offset: 100\n          })\n          return false\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n    @import '../style/mixin';\n    .button_submit{\n        text-align: center;\n    }\n    .avatar-uploader .el-upload {\n        border: 1px dashed #d9d9d9;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n    }\n    .avatar-uploader .el-upload:hover {\n        border-color: #20a0ff;\n    }\n    .avatar-uploader-icon {\n        font-size: 28px;\n        color: #8c939d;\n        width: 120px;\n        height: 120px;\n        line-height: 120px;\n        text-align: center;\n    }\n    .avatar {\n        width: 120px;\n        height: 120px;\n        display: block;\n    }\n    .el-table .info-row {\n        background: #c9e5f5;\n    }\n\n    .el-table .positive-row {\n        background: #e2f0e4;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/single_predict.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('head-top'),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-col',{attrs:{\"span\":12,\"offset\":4}},[_c('el-form',{ref:\"formData\",staticClass:\"demo-formData\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules,\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"上传待预测文件\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":'http://127.0.0.1:5000' + '/write',\"show-file-list\":false,\"on-success\":_vm.handleShopAvatarScucess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.formData.image_path)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.baseImgPath + _vm.formData.image_path}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"button_submit\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('formData')}}},[_vm._v(\"请求预测a \")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-44cd2e7a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/single_predict.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-44cd2e7a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./single_predict.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./single_predict.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./single_predict.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-44cd2e7a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./single_predict.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/single_predict.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}